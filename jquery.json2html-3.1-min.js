(function(a){a.fn.json2html=function(e,c,b){var d=a.type(e)==="string"?a.parseJSON(e):e;if(b!==undefined){a.extend(a.json2html.options,b)}return this.each(function(){if(a.json2html.options.replace){a.fn.replaceWith.apply(a(this),a.json2html(d,c))}else{if(a.json2html.options.prepend){a.fn.prepend.apply(a(this),a.json2html(d,c))}else{a.fn.append.apply(a(this),a.json2html(d,c))}}})};a.json2html=function(e,d){var f=jQuery.type(e);if(d===undefined||e===undefined){return(undefined)}var g=[];switch(f){case"array":var b=e.length;for(var c=0;c<b;++c){g=g.concat(a.json2html.apply(e[c],d,c))}break;case"object":g=g.concat(a.json2html.apply(e,d));break}return(g)};a.json2html.options={eventData:undefined,prepend:false};a.json2html.apply=function(d,c,b){var e=a.json2html.applyTransform(d,c,b);return(a.type(e)==="array"?e:[e])};a.json2html.applyTransform=function(f,c,h){var n=[];var g=0;var j=a.type(c);switch(j){case"array":var k=c.length;for(var o=0;o<k;++o){n=n.concat(a.json2html.applyTransform(f,c[o],h))}break;case"object":var q=c.tag;if(q!==undefined){var e=a(document.createElement(q));for(var m in c){switch(m){case"tag":break;case"children":var b=c.children;var l=a.type(b);switch(l){case"function":a.fn.append.apply(a(e),b.call(f,f));break;case"array":a.fn.append.apply(a(e),a.json2html.applyTransform(f,c.children,h));break;default:break}break;case"html":a(e).html(a.json2html.getValue(f,c,"html",h));break;default:var p=false;if(m.charAt(0)==="o"&&m.charAt(1)==="n"){var d={action:c[m],obj:f,data:a.json2html.options.eventData,index:h};a(e).bind(m.substring(m.indexOf("on")+2),d,function(i){d.event=i;d.action.call(a(this),d)});p=true}if(!p){a(e).attr(m,a.json2html.getValue(f,c,m,h))}break}}n[g]=e;g++}break}return(n)};a.json2html.getValue=function(h,d,e,c){var b="";var i=d[e];var g=a.type(i);if(g==="function"){return(i.call(h,h,c))}else{if(g==="string"){var f=new a.json2html.tokenizer([/\$\{([^\}\{]+)\}/],function(k,l,j){return l?k.replace(j,function(r,p){var s=p.split(".");var n=h;var t="";var m=s.length;for(var q=0;q<m;++q){if(s[q].length>0){var o=n[s[q]];n=o;if(n===null||n===undefined){break}}}if(n!==null&&n!==undefined){t=n}return(t)}):k});b=f.parse(i).join("")}}return(b)};a.json2html.tokenizer=function(c,b){if(!(this instanceof a.json2html.tokenizer)){return new a.json2html.tokenizer(c,b)}this.tokenizers=c.splice?c:[c];if(b){this.doBuild=b}this.parse=function(d){this.src=d;this.ended=false;this.tokens=[];do{this.next()}while(!this.ended);return this.tokens};this.build=function(d,e){if(d){this.tokens.push(!this.doBuild?d:this.doBuild(d,e,this.tkn))}};this.next=function(){var d=this,e;d.findMin();e=d.src.slice(0,d.min);d.build(e,false);d.src=d.src.slice(d.min).replace(d.tkn,function(f){d.build(f,true);return""});if(!d.src){d.ended=true}};this.findMin=function(){var f=this,g=0,e,d;f.min=-1;f.tkn="";while((e=f.tokenizers[g++])!==undefined){d=f.src[e.test?"search":"indexOf"](e);if(d!=-1&&(f.min==-1||d<f.min)){f.tkn=e;f.min=d}}if(f.min==-1){f.min=f.src.length}}}})(jQuery);