(function(a){a.fn.json2html=function(e,c,b){var d;if(jQuery.type(e)==="string"){d=jQuery.parseJSON(e)}else{d=e}if(b!=undefined){a.extend(a.json2html.options,b)}return this.each(function(){if(a.json2html.options.prepend){a(this).prepend(a.json2html(d,c))}else{a(this).append(a.json2html(d,c))}})};a.json2html=function(c,b){if(jQuery.type(c)==="array"){return(a.json2html.transformArray(c,b))}else{if(jQuery.type(c)==="object"){return(a.json2html.transformObject(c,b,true))}}};a.json2html.options={eventData:null,prepend:false};a.json2html.transformArray=function(f,c){if(c==null){return(null)}var e=a(document.createElement("ul"));if(jQuery.type(f)==="array"){a(f).each(function(){a(e).append(a.json2html.transformObject(this,c))})}else{if(jQuery.type(f)==="object"){var b=a.json2html.applyTransform(f,c);for(var d=0;d<b.length;d++){a(e).append(b[d])}}}return(e)};a.json2html.transformObject=function(g,c,b){var f="li";if(b!=undefined){f="div"}var e=a(document.createElement(f));if(jQuery.type(g)==="object"){var h=a.json2html.applyTransform(g,c);for(var d=0;d<h.length;d++){a(e).append(h[d])}}return(e)};a.json2html.applyTransform=function(h,b){var g=[];if(jQuery.type(b)==="array"){a(b).each(function(){var l=a.json2html.applyTransform(h,this);for(var k=0;k<l.length;k++){g.push(l[k])}})}else{if(jQuery.type(b)==="object"){if(b.tag!=null){var e=a(document.createElement(b.tag));if(b.html!=undefined){a(e).html(a.json2html.getValue(h,b,"html"))}for(var d in b){if(d!="tag"&&d!="children"&&d!="html"){if(d.indexOf("on")==0){var f=new Object();f.action=b[d];f.obj=h;f.data=a.json2html.options.eventData;a(e).bind(d.substring(d.indexOf("on")+2),f,function(i){f.event=i;f.action(f)})}else{a(e).attr(d,a.json2html.getValue(h,b,d))}}}if(b.children!=undefined){if(jQuery.type(b.children)==="function"){a(e).append(b.children(h))}else{var j=a.json2html.applyTransform(h,b.children);for(var c=0;c<j.length;c++){a(e).append(j[c])}}}g.push(e)}}}return(g)};a.json2html.getValue=function(h,e,f){var d="";if(e[f]!=undefined){if(jQuery.type(e[f])==="function"){d=e[f](h)}if(jQuery.type(e[f])==="string"){if(e[f].length>0){if(e[f][0]=="."){var g=e[f].split(".");var b=h;for(count=0;count<g.length;count++){if(g[count].length>0){var c=b[g[count]];b=c;if(b==null||b==undefined){break}}}if(b!=null&&b!=undefined){d=b}}else{d=e[f]}}}}return(d)}})(jQuery);